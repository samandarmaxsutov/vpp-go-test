{{ template "base" . }}
{{ define "nat_page_manager" }}

<style>
    /* Professional Dashboard Styles */
    .nav-pills-custom .nav-link {
        color: #6c757d;
        background: #fff;
        border: 1px solid #dee2e6;
        margin-right: 10px;
        border-radius: 6px;
        padding: 10px 20px;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    .nav-pills-custom .nav-link.active {
        background-color: #0d6efd !important;
        color: #fff !important;
        border-color: #0d6efd;
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.2);
    }

    .nav-pills-custom .nav-link:hover:not(.active) {
        background-color: #f8f9fa;
        border-color: #ced4da;
    }

    .main-card-container {
        background: #fdfdfd;
        border-radius: 12px;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        padding: 25px;
        min-height: 80vh;
    }

    .page-header-title {
        border-left: 5px solid #0d6efd;
        padding-left: 15px;
    }
</style>

<div class="container-fluid py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="page-header-title">
            <h3 class="fw-bold text-dark mb-1">NAT44 Configuration</h3>
            <p class="text-muted small mb-0">Network Address Translation, Port Forwarding va Multi-WAN boshqaruvi</p>
        </div>
        <button class="btn btn-sm btn-outline-primary" onclick="refreshNatData()">
            <i class="bi bi-arrow-clockwise"></i> Refresh Status
        </button>
    </div>

    <ul class="nav nav-pills nav-pills-custom mb-4" id="natTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active fw-bold" data-bs-toggle="tab" data-bs-target="#dnat" type="button">
                <i class="bi bi-router me-2"></i>Dynamic NAT & Interfaces
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link fw-bold" data-bs-toggle="tab" data-bs-target="#snat" type="button">
                <i class="bi bi-arrow-left-right me-2"></i>Static NAT (DNAT)
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link fw-bold" data-bs-toggle="tab" data-bs-target="#nat_settings" type="button">
                <i class="bi bi-gear-fill me-2"></i>NAT Settings
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link fw-bold" data-bs-toggle="tab" data-bs-target="#sessions_tab" type="button"
                onclick="loadActiveSessions()">
                <i class="bi bi-activity me-2"></i>Active Sessions
            </button>
        </li>
    </ul>

    <div class="main-card-container border shadow-sm">
        <div class="tab-content" id="natTabsContent">

            <div class="tab-pane fade show active" id="dnat" role="tabpanel">
                {{ template "dnat" . }}
            </div>

            <div class="tab-pane fade" id="snat" role="tabpanel">
                {{ template "snat" . }}
            </div>

            <div class="tab-pane fade" id="nat_settings" role="tabpanel">
                {{ template "nat_settings" . }}
            </div>

            <div class="tab-pane fade" id="sessions_tab" role="tabpanel">
                {{ template "nat_sessions" . }}
            </div>
        </div>
    </div>
</div>


{{ end }}